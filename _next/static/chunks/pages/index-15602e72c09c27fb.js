(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2072:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(7294),s=n(7446),r=n(5662),i=n(5582),o=n(5861),u=n(1903),c=n(3457),d=n(6066),l=n(5893);function h(e){const{onSignup:t}=e,[n,s]=((0,d.Bl)(),(0,a.useState)("")),[i,h]=(0,a.useState)(""),[g,{data:p,loading:x,error:m}]=(0,d.Bl)(),b=m&&"Username already exists"===m.message;function j(e){"Enter"===e.key&&y()}async function y(){if(console.log("Attempting to create an account..."),n.trim().length&&i.trim().length)try{await g({variables:{name:n,password:i}}),t&&t()}catch(e){}}return(0,l.jsx)(a.Fragment,{children:(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(o.Z,{children:"Create a new account. You must choose a character name that has not already been used. You may create as many accounts as you would like, however there is no account recovery."}),(0,l.jsx)("br",{}),(0,l.jsx)(u.Z,{inputProps:{"data-testid":"signup-username-input"},FormHelperTextProps:{"data-testid":"signup-error-message"},helperText:b&&m.message,error:b,label:"Character Name",variant:"outlined",value:n,onChange:e=>s(e.target.value),onKeyPress:j,disabled:x}),(0,l.jsx)("br",{}),(0,l.jsx)(u.Z,{inputProps:{"data-testid":"signup-password-input"},label:"Password",variant:"outlined",type:"password",value:i,onChange:e=>h(e.target.value),onKeyPress:j,disabled:x}),(0,l.jsx)("br",{}),(0,l.jsx)(r.Z,{"data-testid":"signup-submit-button",type:"submit",variant:"contained",onClick:y,disabled:x,children:"Create Account"}),(0,l.jsx)("br",{})]})})}var g=n(1163),p=n(1767);function x(){const e=(0,g.useRouter)(),[t,n]=(0,p.d)(),[s,{loading:i,error:h}]=(0,d.YA)(),[x,m]=(0,a.useState)(""),[b,j]=(0,a.useState)("");function y(e){"Enter"===e.key&&v()}async function v(){if(x.trim().length&&b.trim().length)try{const{data:t}=await s({variables:{name:x,password:b}});if(!t)return;const{login:{token:a}}=t;n(a),e.push("/play")}catch(t){}}return(0,l.jsx)(a.Fragment,{children:(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(o.Z,{children:"This is a game about clicking things and watching numbers go up, login if you have an account already."}),(0,l.jsx)("br",{}),(0,l.jsx)(u.Z,{inputProps:{"data-testid":"login-username-input"},helperText:!!h&&h.message,error:!!h,label:"Character Name",variant:"outlined",onChange:e=>m(e.target.value),disabled:i,onKeyPress:y}),(0,l.jsx)("br",{}),(0,l.jsx)(u.Z,{inputProps:{"data-testid":"login-password-input"},error:!!h,label:"Password",variant:"outlined",type:"password",onChange:e=>j(e.target.value),disabled:i,onKeyPress:y}),(0,l.jsx)("br",{}),(0,l.jsx)(r.Z,{"data-testid":"login-submit-button",type:"submit",variant:"contained",onClick:v,disabled:i,children:"Play"})]})})}function m(){const[e,t]=(0,a.useState)(!1);return(0,l.jsxs)(i.Z,{maxWidth:"sm",children:[e&&(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(h,{onSignup:()=>t(!1)}),(0,l.jsxs)(o.Z,{children:["Already have an account?",(0,l.jsx)(r.Z,{"data-testid":"show-login-button",onClick:()=>t(!1),children:"Login here"})]})]}),!e&&(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(x,{}),(0,l.jsxs)(o.Z,{children:["Need an account?",(0,l.jsx)(r.Z,{"data-testid":"show-signup-button",onClick:()=>t(!0),children:"Create one"})]})]}),(0,l.jsx)(o.Z,{children:"This game is in no way monetized; there are no ads, tracking, cookies, analytics, or transactions. I just like making games."})]})}var b=()=>(0,l.jsxs)(s.A,{children:[(0,l.jsx)("br",{}),(0,l.jsx)(m,{}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]})},8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2072)}])}},function(e){e.O(0,[806,993,446,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);