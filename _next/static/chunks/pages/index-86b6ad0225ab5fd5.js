(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(r,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(415)}])},415:function(r,n,e){"use strict";e.r(n),e.d(n,{default:function(){return Z}});var t=e(5893),a=e(7294),o=e(7998),u=e(5662),i=e(5582),s=e(5861),c=e(4051),l=e.n(c),f=e(1903),d=e(3457),h=e(7952);function p(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function y(r,n,e,t,a,o,u){try{var i=r[o](u),s=i.value}catch(c){return void e(c)}i.done?n(s):Promise.resolve(s).then(t,a)}function v(r){return function(){var n=this,e=arguments;return new Promise((function(t,a){var o=r.apply(n,e);function u(r){y(o,t,a,u,i,"next",r)}function i(r){y(o,t,a,u,i,"throw",r)}u(void 0)}))}}function b(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,a,o=[],u=!0,i=!1;try{for(e=e.call(r);!(u=(t=e.next()).done)&&(o.push(t.value),!n||o.length!==n);u=!0);}catch(s){i=!0,a=s}finally{try{u||null==e.return||e.return()}finally{if(i)throw a}}return o}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return p(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return p(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(r){var n=function(r){"Enter"===r.key&&C()},e=r.onSignup,o=((0,h.Bl)(),(0,a.useState)("")),i=o[0],c=o[1],p=(0,a.useState)(""),y=p[0],m=p[1],x=b((0,h.Bl)(),2),g=x[0],j=x[1],w=(j.data,j.loading),k=j.error,A=k&&"Username already exists"===k.message;function C(){return S.apply(this,arguments)}function S(){return(S=v(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log("Attempting to create an account..."),i.trim().length&&y.trim().length){r.next=3;break}return r.abrupt("return");case 3:return r.prev=3,r.next=6,g({variables:{name:i,password:y}});case 6:e&&e(),r.next=11;break;case 9:r.prev=9,r.t0=r.catch(3);case 11:case"end":return r.stop()}}),r,null,[[3,9]])})))).apply(this,arguments)}return(0,t.jsx)(a.Fragment,{children:(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(s.Z,{children:"Create a new account. You must choose a character name that has not already been used. You may create as many accounts as you would like, however there is no account recovery."}),(0,t.jsx)("br",{}),(0,t.jsx)(f.Z,{helperText:A&&k.message,error:A,label:"Character Name",variant:"outlined",value:i,onChange:function(r){return c(r.target.value)},onKeyPress:n,disabled:w}),(0,t.jsx)("br",{}),(0,t.jsx)(f.Z,{label:"Password",variant:"outlined",type:"password",value:y,onChange:function(r){return m(r.target.value)},onKeyPress:n,disabled:w}),(0,t.jsx)("br",{}),(0,t.jsx)(u.Z,{type:"submit",variant:"contained",onClick:C,disabled:w,children:"Create Account"}),(0,t.jsx)("br",{})]})})}var x=e(1163),g=e(1514);function j(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function w(r,n,e,t,a,o,u){try{var i=r[o](u),s=i.value}catch(c){return void e(c)}i.done?n(s):Promise.resolve(s).then(t,a)}function k(r){return function(){var n=this,e=arguments;return new Promise((function(t,a){var o=r.apply(n,e);function u(r){w(o,t,a,u,i,"next",r)}function i(r){w(o,t,a,u,i,"throw",r)}u(void 0)}))}}function A(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,a,o=[],u=!0,i=!1;try{for(e=e.call(r);!(u=(t=e.next()).done)&&(o.push(t.value),!n||o.length!==n);u=!0);}catch(s){i=!0,a=s}finally{try{u||null==e.return||e.return()}finally{if(i)throw a}}return o}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return j(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return j(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(){var r=function(r){"Enter"===r.key&&Z()},n=(0,x.useRouter)(),e=A((0,g.d)(),2),o=(e[0],e[1]),i=A((0,h.YA)(),2),c=i[0],p=i[1],y=p.loading,v=p.error,b=(0,a.useState)(""),m=b[0],j=b[1],w=(0,a.useState)(""),C=w[0],S=w[1];function Z(){return P.apply(this,arguments)}function P(){return(P=k(l().mark((function r(){var e,t,a;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(m.trim().length&&C.trim().length){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,c({variables:{name:m,password:C}});case 5:if(e=r.sent.data){r.next=8;break}return r.abrupt("return");case 8:t=e.login,a=t.token,o(a),n.push("/play"),r.next=15;break;case 13:r.prev=13,r.t0=r.catch(2);case 15:case"end":return r.stop()}}),r,null,[[2,13]])})))).apply(this,arguments)}return(0,t.jsx)(a.Fragment,{children:(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(s.Z,{children:"This is a game about clicking things and watching numbers go up, login if you have an account already."}),(0,t.jsx)("br",{}),(0,t.jsx)(f.Z,{helperText:!!v&&v.message,error:!!v,label:"Character Name",variant:"outlined",onChange:function(r){return j(r.target.value)},disabled:y,onKeyPress:r}),(0,t.jsx)("br",{}),(0,t.jsx)(f.Z,{error:!!v,label:"Password",variant:"outlined",type:"password",onChange:function(r){return S(r.target.value)},disabled:y,onKeyPress:r}),(0,t.jsx)("br",{}),(0,t.jsx)(u.Z,{type:"submit",variant:"contained",onClick:Z,disabled:y,children:"Play"})]})})}function S(){var r=(0,a.useState)(!1),n=r[0],e=r[1];return(0,t.jsxs)(i.Z,{maxWidth:"sm",children:[n&&(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)(m,{onSignup:function(){return e(!1)}}),(0,t.jsxs)(s.Z,{children:["Already have an account?",(0,t.jsx)(u.Z,{onClick:function(){return e(!1)},children:"Login here"})]})]}),!n&&(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)(C,{}),(0,t.jsxs)(s.Z,{children:["Need an account?",(0,t.jsx)(u.Z,{onClick:function(){return e(!0)},children:"Create one"})]})]})]})}var Z=function(){return(0,t.jsxs)(o.A,{children:[(0,t.jsx)("br",{}),(0,t.jsx)(S,{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{})]})}}},function(r){r.O(0,[806,432,998,774,888,179],(function(){return n=8312,r(r.s=n);var n}));var n=r.O();_N_E=n}]);